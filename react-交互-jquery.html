<html>
<head>
	<meta charset="utf-8">
	<script type="text/javascript" src='/bower_components/react/react.development.js'></script>
	<script type="text/javascript" src='/bower_components/react/react-dom.development.js'></script>
	<script type="text/javascript" src='/bower_components/babel/browser.js'></script>
	<script src='/bower_components/jquery/jquery.js'></script>

  <style>
     *{margin:0;padding:0;}
     .dragNode{width:200px;height:300px;background:blue;position:absolute;}
     /*div{display: inline-block;}*/
   </style>
<body>
  <div id='app'></div>
  <script type="text/babel">
  //
  // class Title extends React.Component{
  //   constructor(){
  //     super();
  //     this.state = {
  //       show:'block'
  //     }
  //   }
  //   render(){
  //     return (<div>
  //               <input type='button' value='切换' onClick={this.change.bind(this)}/>
  //               <br/>
  //               <div className='div' style={{display:this.state.show}}></div>
  //             </div>)
  //   }
  //   change(){
  //     this.setState({
  //       show:this.state.show == 'block'?'none':'block'
  //     })
  //   }
  // }
 {/* class NumberNode extends React.Component{

    constructor(){
      super();
      this.state = {
        number: 0
      }
     }

    render(){
       return (
         <div>
            <input type='button' value ='-' onClick={this.last.bind(this)}/>
            <div>{this.state.number}</div>
            <input type='button' value='+' onClick={this.next.bind(this)}/>
         </div>
       )
    }

    last(){
      this.setState({
        number: this.state.number == this.props.min?Number(this.props.min):this.state.number- 1
      })
    }
    next(){
      this.setState({
        number: this.state.number == this.props.max?Number(this.props.max):this.state.number + 1
      })
    }
  }



  ReactDOM.render(<NumberNode min='0' max='15'/>,app);*/}




  // class InputChange extends React.Component{

  //   constructor( ) {
  //     super();

  //     this.state = {msg:''};
  //   }


  //   render() {
  //     return (
  //       <div>
  //         <input type='text' onInput={this.change.bind(this)} id= 'inputNode' ref='leo'/>
  //         <div>{this.state.msg}</div>
  //       </div>
  //     )
  //   }

  //   // change(){
  //   //   this.setState({
  //   //     msg:document.getElementById('inputNode').value
  //   //   })
  //   // }
  //   change(e){
  //     //console.log(e.target.value)
  //     console.log(this.refs.leo.value) //react封装的方法
  //     this.setState({
  //       msg:document.getElementById('inputNode').value
  //     })
  //   }
  // }

  // ReactDOM.render(<InputChange/>,app);
  // class Drag extends React.Component{
  //   constructor(){
  //     super();
  //     this.state ={
  //       needX :10,
  //       needY:0
  //     }
  //     this.disX = 0 ;
  //     this.disY = 0;
	//
  //   }
	//
  //   render() {
  //     return (
  //       <div className='dragNode' style={{left:this.state.needX,top:this.state.needY}} onMouseDown={this.fnDown.bind(this)}></div>
	//
  //     )
  //   }
	//
  //   fnDown(e){
  //     console.log(e.clientX,e.target.offsetLeft)
  //     this.disX = e.clientX  - e.target.offsetLeft;
  //     this.disY = e.clientY  - e.target.offsetTop;
  //     document.onmousemove = this.fnMove.bind(this);
  //     document.onmouseup = this.fnUp.bind(this);
  //   }
	//
  //   fnMove(e){
  //     this.setState({
  //       needX : e.clientX - this.disX,
  //       needY : e.clientY - this.disY
  //     })
  //   }
  //   fnUp(){
  //     document.onmousemove = null;
  //     document.onmouseup = null;
  //   }
	//
  // }
	//
  // ReactDOM.render(<Drag/>,app)
	// class Reno extends React.Component{
	// 	constructor(){
	// 		super();
	// 		this.state ={
	// 			msg:'hello'
	// 		}
	//
	// 	}
	// 	componentWillMount(){
	//
	//
	// 		console.log('挂载前')
	// 	}
	// 	componentDidMount(){
	// 		// console.log(document.querySelector('#div1'))
	// 		// console.log(this.props,this.state)
	//
	// 		console.log('挂载后')
	// 	}
	//
	// 	componentWillUpdate(){
	//
	// 		console.log('更新前',this.props,this.state);
	// 		//debugger;
	// 	}
	//
	// 	componentDidUpdate(){
 	// 		console.log('更新后',this.props,this.state);
 	// 	}
	//
	// 	componentWillUnmount(){
	// 			console.log('卸载');
	// 	}
	//
	// 	show(e){
	// 		this.setState({
	// 			msg:Math.random()
	// 		});
	// 		//e.cancelBubble = true;
	// 		//e.stopPropagation();
	// 		//return false;
	// 		console.log(e.nativeEvent);
	// 		e.nativeEvent.stopImmediatePropagation();
	// 	}
	// 	render(){
	// 		return(
	// 			<div>
	// 				<input type='button' value='点击' onClick={this.show.bind(this)}/>
	// 				<div id='div1'>{this.state.msg}
	//
	// 			</div></div>
	// 		)
	// 	}
	// }
	//
	// ReactDOM.render(<Reno/>,app);
	//
	// document.onclick = function(){
	// 	ReactDOM.render(<h1>asdfa</h1>,app);
	//
	// }
  //
	class Frorms extends React.Component {

		constructor(){
			super();
			this.state = {
				// arr:['中国','俄罗斯','巴基斯坦','印度']
				arr:[]
			}
		}

		componentWillMount(){
			 this.ajaxToData();
		}
		ajaxToData(){
			// var _this = this;
			// $.ajax({
			// 	url:'http://localhost:2812/get',
			// 	success(data){
			// 	 	_this.setState({
			// 			arr:data
			// 		})
			// 	}
			// })
			$.ajax({
				url:'http://localhost:2812/get'
			}).then((res)=>{
				this.setState({arr:res})
			})
 		}
		render(){
			let arrLi = [];
			this.state.arr.forEach((item, i) => {
				console.log(i,item);
				arrLi.push(<li key={i}>{item}</li>)

			});
			console.log(arrLi);
			return(<div>
				<div style={{display:this.state.arr.lenght>0?'none':'block'}}>暂时没有数据</div>
				<ul>
					{arrLi}
				</ul>

			</div>)
		}
	}
	ReactDOM.render(<Frorms/>,app);
	</script>
<body>
</html>
