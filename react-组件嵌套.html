<html>
<head>
	<meta charset="utf-8">
	<script type="text/javascript" src='/Users/zbsilent/bower_components/react/react.development.js'></script>
	<script type="text/javascript" src='/Users/zbsilent/bower_components/react/react-dom.development.js'></script>
	<script type="text/javascript" src='/Users/zbsilent/bower_components/babel/browser.js'></script>
<body>

  <div id='app'></div>
  <script type="text/babel">
	class Child extends React.Component{
		constructor(){
			super();
			this.state={
				msg:'我是子组件数据'
			}

		}
		componentWillMount(){
			console.log(this.props);
			this.props.getMsg(this.state.msg);
		}
		render(){
			// return <div style={{color:this.props.textColor}}>我是子组件=>{this.props.setMsg}</div>
			return <div style={{color:this.props.textColor}}>我是子组件=>{this.state.msg}</div>
		}
	}
	class Parent extends React.Component{
		constructor(){
			super();
			this.state={
				msg:''
			}

		}

		show(v){
			console.log(v);
			this.setState({
				msg:v
			});
		}
		render(){
			return (	<div>
					<div >我是父组件=>{this.state.msg}</div>
					<Child textColor={'rgb('+parseInt(Math.random()*256)+',242,232)'}
					getMsg={this.show.bind(this)}/>
					{/*这里的this首先指向的是子组件，不是父组件，bind必须指向会父组件*/}
				</div> )
		}
	}
	ReactDOM.render(<Parent/>,app)
	</script>
<body>
</html>
